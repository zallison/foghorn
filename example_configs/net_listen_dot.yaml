# Foghorn example: Listening with DNS over TLS (DoT)
# Demonstrates enabling a DoT listener alongside UDP.

listen:
  udp:
    enabled: true
    host: 127.0.0.1
    port: 5353
  tcp:
    enabled: false
  dot:
    enabled: true
    host: 127.0.0.1
    port: 8853
    # cert_file: /path/to/cert.pem   # PEM certificate chain
    # key_file: /path/to/key.pem     # PEM private key

# Upstreams: mix of DoT and UDP for demonstration
upstreams:
  - host: 1.1.1.1
    port: 853
    transport: dot
    tls:
      server_name: cloudflare-dns.com
      verify: true
  - host: 9.9.9.9
    port: 53

# DNSSEC passthrough (no local validation) but request AD from upstream
dnssec:
  mode: passthrough
  validation: upstream_ad
  udp_payload_size: 1232

foghorn:
  timeout_ms: 2000
  upstream_strategy: failover
  upstream_max_concurrent: 1
  use_asyncio: true

logging:
  level: info
