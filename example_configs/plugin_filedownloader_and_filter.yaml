upstreams:
  endpoints:
  - host: 1.1.1.1
    port: 53
  - host: 8.8.8.8
    port: 53
logging:
  level: info
plugins:
- type: file_downloader
  config:
    setup_priority: 15
    download_path: ./config/var/lists
    hash_filenames: true
    add_comment: true
    interval_days: 1
    urls:
    - url: https://v.firebog.net/hosts/AdguardDNS.txt
      hash_filenames: false
      add_comment: false
    - url: https://v.firebog.net/hosts/Easylist.txt
    - url: https://v.firebog.net/hosts/Prigent-Ads.txt
      add_comment: null
    - url: https://v.firebog.net/hosts/Prigent-Malware.txt
- type: filter
  config:
    setup_priority: 20
    default: deny
    db_path: ./config/var/blocklist.db
    cache_ttl_seconds: 600
    blocked_domains_files:
    - ./config/var/lists/AdguardDNS.txt
    - ./config/var/lists/Easylist-*.txt
    - ./config/var/lists/Prigent-Ads-*.txt
    - ./config/var/lists/Prigent-Malware-*.txt
server:
  listen:
    udp:
      enabled: true
      host: 127.0.0.1
      port: 5353
  dnssec:
    mode: passthrough
    validation: upstream_ad
    udp_payload_size: 1232
