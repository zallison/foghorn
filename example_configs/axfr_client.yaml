server:
  listen:
    udp:
      enabled: true
      host: 127.0.0.1
      port: 5354
    tcp:
      enabled: true
      host: 127.0.0.1
      port: 5354
  dnssec:
    mode: ignore
    validation: upstream_ad
    udp_payload_size: 1232
  resolver:
    timeout_ms: 2000
    use_asyncio: true

upstreams:
  endpoints:
    - host: 1.1.1.1
      port: 53
  strategy: failover
  max_concurrent: 1

logging:
  python:
    level: debug

plugins:
  - type: zone
    config:
      # Fetch example.com via AXFR from the local authoritative server.
      axfr_zones:
        - zone: example.com
          upstreams:
            - host: 127.0.0.1
              port: 5300
              timeout_ms: 15000
